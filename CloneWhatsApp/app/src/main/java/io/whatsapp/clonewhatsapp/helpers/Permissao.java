package io.whatsapp.clonewhatsapp.helpers;import android.app.Activity;import android.app.AlertDialog;import android.content.pm.PackageManager;import android.os.Build;import android.support.v4.app.ActivityCompat;import android.support.v4.content.ContextCompat;import java.util.ArrayList;import java.util.List;/** * Created by rafaelcarvalho on 18/12/2017. */public class Permissao {    public static boolean validaPermissao(int requestCode, Activity a, String[]permissoes){        if(Build.VERSION.SDK_INT >= 23){            List<String> listaPermissao = new ArrayList<>();            for (String permissao : permissoes){                Boolean validaPermissao = (ContextCompat.checkSelfPermission(a, permissao) == PackageManager.PERMISSION_GRANTED);                if(!validaPermissao){                    listaPermissao.add(permissao);                }            }            //lista vazia            if(listaPermissao.isEmpty() ){                return true;            }            String [] novasPermissoes = new String[listaPermissao.size()];            listaPermissao.toArray();            //Solicita permiss√£o            ActivityCompat.requestPermissions(a, novasPermissoes, requestCode );        }        return true;    }}